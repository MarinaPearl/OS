Задача: доказать, что задача 11 не может быть решена с использованием двух мутексов без использования других средств синхронизации.

Доказателсьтво:
Доказывать будем от противного: предположим, что решить задачу на таком количестве мьютексов возможно, а затем придем к противоречию.

1) count mutex = 0;
Очевидно, для того чтобы вывод родительской и дочерней нитей был синхронизован: сначала родительская нить выводила первую строку, затем дочерняя и т.д., необоходимы примитивы синхронизации, так как без них мы не можем гарантировать, что вывод потоков будет чередующимся.

2) count mutex = 1;
Чтобы одновременно несколько потоков не могли печатать строки - мы должны защитить этот участок кода каки-либо примитивом синхронизации. В данном случае - это мьютекс.После того как поток захвативищий мьютек произведет печать, он должен освободить мьютекс, иначе у другого потока не будет возможности напечатать строрку. Но мы не можем гарантировать какой из потоков следующим захватит мьбтекс, тем самымым не можем гаранитировать чередующуюся печать строк.

3) count mutex  = 2;
   3.1) первый поток захватил мьютекс, второй не захватил никакой.
   3.2) первый поток захватил оба мьютекса.
   3.3) каждый поток захватил по мьютексу.

Первый поток может напечатать строку, так как он захватил мьютекс, защищающий участок печати строк, затем он обязан освободить мьютекс, иначе другой поток не сможет распечатать строку. Но опять же мы не можем гарантировать, какой из потоков следующим захватит мьтекс, который защищает учаток печати строк, поэтому не можем гарантировать последовательную печать.

Так как первый поток захватил оба мьютекста, то он может распечатать строку(он захватил мьтекс, который защищает секцию печати), дальше он должен освободить мьютекс для того, чтобы второй поток смог распечать строку, но мы не можем гарантировать какой из потоков захватит этот мьютекс следующим, следовательно не можем гарантировать чередование печати.

Когда у каждого потка есть по мьютексу, поток, который захватил мьтек защищающий секцию печати, сможет распечатть строку, хатем он обязан осовбодить мьтекс, чтобы другой поток смог напечать строку, следователньно сводимся к ситуации, когда один поток владеет мььтексом, а второй не захватил никакой. Следователньо не можем гарантировать чередование печати.






